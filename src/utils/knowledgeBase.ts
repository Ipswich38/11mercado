// Knowledge base for DepEd Omnibus Code PTA and 11Mercado Mini Apps
export const depedOmnibusKnowledge = {
  title: "DepEd Omnibus Code for PTA",
  description: "Comprehensive guide for Parent-Teacher Association operations and guidelines",
  sections: [
    {
      title: "PTA Formation and Organization",
      content: "Guidelines for establishing and organizing Parent-Teacher Associations in schools, including membership requirements, organizational structure, and registration procedures."
    },
    {
      title: "Roles and Responsibilities",
      content: "Detailed roles and responsibilities of PTA officers, general members, school administration, and teachers in collaborative educational initiatives."
    },
    {
      title: "Financial Management",
      content: "Proper procedures for handling PTA funds, budgeting, financial reporting, transparency requirements, and audit processes."
    },
    {
      title: "Activities and Programs",
      content: "Approved PTA activities, fundraising guidelines, educational programs, and community engagement initiatives."
    },
    {
      title: "Meetings and Governance",
      content: "Meeting procedures, voting processes, decision-making protocols, and democratic governance principles for PTAs."
    },
    {
      title: "Compliance and Reporting",
      content: "Legal requirements, reporting obligations to DepEd, documentation standards, and compliance monitoring."
    }
  ],
  fullText: "",
  lastUpdated: new Date().toISOString()
};

// Comprehensive knowledge base for 11Mercado Mini Apps usage
export const miniAppsKnowledge = {
  title: "11Mercado Mini Apps User Guide",
  description: "Complete instructions on how to use all features in the 11Mercado PTA hub",
  sections: [
    {
      title: "Getting Started with 11Mercado",
      content: "11Mercado is your complete PTA hub with 9 mini apps. From the home screen, tap any app card to access its features. Each app has specific functions to help parents, students, and the school community. The floating chatbot (blue circle with robot icon) is available on all pages to answer questions about how to use any feature."
    },
    {
      title: "STEM Resources - How to Use",
      content: "Access educational tools and resources through two sections: 1) AI-Powered Tools (4 tools): AI UPCAT Quiz Generator generates 20 high-quality UP entrance exam questions with AI analysis, AI Scientific Calculator with world-standard accuracy and AI tutoring explanations, AI Research Tool for STEM research guidance and methodology assistance, and STEM GPT Tools for science help. The UPCAT Quiz Generator, AI Scientific Calculator, and AI Research Tool are fully functional. 2) Educational Resources (6 links): Tap any resource card to open external educational websites like Khan Academy, NASA Education, PhET Simulations, Coursera, MIT OpenCourseWare, and Wolfram Alpha. These open in new browser tabs for immediate access."
    },
    {
      title: "Weather App - How to Use",
      content: "Get local weather information for San Jose del Monte, Bulacan. The app shows current temperature, weather conditions, humidity, and wind speed. View a 3-day forecast with daily highs, lows, and weather icons. Information updates automatically and helps plan school activities and commuting."
    },
    {
      title: "Donation Form - Complete Guide",
      content: "Submit donations through 4 payment modes: 1) E-Wallet: Enter amount, select e-wallet provider (GCash, PayMaya, etc.), provide account details and reference number. 2) Bank Transfer: Enter amount, select bank, provide account details and transaction reference. 3) Cash: Enter amount, select handover method (school office, designated person, event), provide receipt details. 4) In-Kind: Enter estimated value, describe items, upload photos, specify delivery method. All modes require donor information (name, contact, email). After submission, you receive an acknowledgment receipt with reference number. You can edit submissions within 24 hours using the reference number."
    },
    {
      title: "Community Hub - Social Platform",
      content: "Join the internal social media platform where you can share thoughts, feedback, and mini blog posts. Choose from 3 post types: üí≠ Thoughts (quick ideas), üí¨ Feedback (school improvements), or üìù Blog Posts (longer stories). Each post shows likes, replies, and sharing options. Interact with posts by liking, commenting, or sharing. Use the post creation tools including image, hashtag, and mention buttons. View all community posts in the feed with author profiles and timestamps. Perfect for school discussions, sharing experiences, and community building."
    },
    {
      title: "Meet the Officers - Contact Information",
      content: "View complete information about current 11-Mercado Homeroom PTA officials for 2025-2026 term. Each officer profile shows their name, position, email, photo, and brief bio. Current officers include President Cherwin Fernandez, Vice President Dante Navarro, Secretary Laarni Gilles, Treasurer Cyndee Delmendo, and Auditor Gina Genido. All officers can be reached at the unified email address: 11mercado.pta@gmail.com. Use this email to contact any officer with specific concerns or questions related to their roles."
    },
    {
      title: "School Links - Official Resources",
      content: "Access official school and government links: 1) CSANSCI Facebook Page: View school announcements, photos, and updates from Caloocan Science and Nuturing Smart Citizens Integrated School. 2) DepEd Website: Official Department of Education portal for policies and guidelines. 3) Local Government Unit: Facebook page for City Government of San Jose del Monte for local updates. All links open in new browser windows for easy access."
    },
    {
      title: "Donation Progress - Track Campaigns",
      content: "Monitor donation drives and campaigns when active. View campaign titles, target amounts, current amounts raised, and progress percentages. See detailed receipts for each campaign including amounts, dates, descriptions, and contributor names. Track transparency in fund collection and see how your contributions help reach campaign goals. Currently showing 'No Active Campaigns' as the donation period has not started yet. Check back later for upcoming fundraising campaigns."
    },
    {
      title: "Contact Us - Send Messages to PTA",
      content: "Send direct messages to the PTA leadership at 11mercado.pta@gmail.com. Fill out the contact form with your name, email address, subject line, and detailed message. Use this for: reporting issues, asking questions, providing feedback, requesting information, or suggesting improvements. All messages are sent directly to PTA leadership for review and response. Expect replies within 2-3 business days."
    },
    {
      title: "Projects - Submit Proposals and Track Progress",
      content: "View PTA projects and submit new proposals. Project tracking shows 4 status types: Planned (blue), Started (yellow), Ongoing (orange), and Accomplished (green). Each project displays title, description, progress percentage, start date, assigned committee, and category. Currently showing 'No projects found' as there are no active projects yet. To submit a proposal: 1) Tap 'Propose' or 'Submit New Project Proposal', 2) Fill required fields: project title, category, description, your name, email, justification, 3) Optional: add timeline and budget estimates, 4) Submit proposal - it goes to 11mercado.pta@gmail.com for review. Categories include Infrastructure, Education, Technology, Environment, Community, Health & Safety, Sports & Recreation, Arts & Culture."
    },
    {
      title: "Chatbot Assistant - Get Help Anytime",
      content: "The floating blue chatbot button (robot icon) appears on all pages. Tap to open the AI PTA Assistant. You can: 1) Ask questions about DepEd PTA policies and procedures, 2) Get help using any mini app feature, 3) Request information about school processes, 4) Get guidance on PTA guidelines and rules. The chatbot has knowledge about PTA regulations and can help you navigate the 11Mercado hub. It provides instant responses and is available 24/7. Close the chat by tapping the X button or tap outside the chat area."
    },
    {
      title: "AI UPCAT Quiz Generator - Complete Guide",
      content: "The AI UPCAT Quiz Generator creates 20 high-quality University of the Philippines entrance exam questions with Singapore-level standards. How to use: 1) From STEM Resources, tap 'AI UPCAT Quiz Generator', 2) Select subjects to include (Mathematics, Science, Language Proficiency, Reading Comprehension, Abstract Reasoning, General Information), 3) Tap 'Generate AI Quiz' to create questions, 4) Each question has a 5-minute timer (appears after 30 seconds if no answer selected), 5) Select an answer to immediately unlock 'View Analysis' and proceed to next question, 6) Navigate freely between questions - timer resets for unanswered questions, 7) Complete all 20 questions and tap 'Finish Quiz' for results. Features: 5-minute per question timer with early advancement, Mix of Easy (20%), Medium (50%), Hard (30%) difficulty levels, instant AI analysis when answer is selected, comprehensive scoring with study recommendations, and subject-specific questions optimized for computation time."
    },
    {
      title: "AI Research Tool - Complete Guide",
      content: "The AI Research Tool provides comprehensive STEM research guidance and methodology assistance with ethical research practices. How to use: 1) From STEM Resources, tap 'AI Research Tool', 2) Choose from Research Templates (Scientific Literature Review, Experimental Design, Mathematical Investigation, Technology Impact Study), 3) Use AI Research Assistant for methodology guidance - ask questions about research approaches, not for ready-made content, 4) Follow Ethics Guidelines for academic integrity and proper research practices, 5) Create research projects to track sources, notes, and progress. Features: 4 research templates with step-by-step methodologies, Groq AI-powered research guidance focusing on learning over content generation, comprehensive ethics guidelines covering academic integrity and source reliability, project management with source tracking and citation tools, research methodology suggestions for different STEM subjects, and emphasis on critical thinking and proper research practices. Perfect for developing research skills, understanding scientific methodology, and conducting ethical academic research with AI guidance as a supplementary learning tool."
    },
    {
      title: "AI Scientific Calculator - Complete Guide",
      content: "The AI Scientific Calculator provides world-standard accuracy with integrated AI tutoring explanations. How to use: 1) From STEM Resources, tap 'AI Scientific Calculator', 2) Use the scientific keypad for calculations - includes trigonometric functions (sin, cos, tan), logarithms (ln, log‚ÇÅ‚ÇÄ), powers (x¬≤, x ∏, ‚àöx), constants (œÄ, e), and factorial (x!), 3) Toggle between RAD/DEG modes for angle calculations, 4) Tutorial Mode (Brain icon) provides AI explanations after calculations with 1-second processing delay, 5) View calculation history (History icon) to revisit previous calculations, 6) Each calculation shows the expression and result with high precision. Features: World-standard mathematical accuracy using mathjs library, AI tutoring explanations that break down concepts and suggest next steps, visual representation suggestions for graphs when applicable, comprehensive scientific functions for advanced mathematics, memory storage for frequently used values, and step-by-step learning approach rather than immediate answers. Perfect for learning calculus, algebra, trigonometry, and statistics with AI guidance."
    },
    {
      title: "Navigation and General Tips",
      content: "Navigation: Use the back arrow (‚Üê) in the top-left header to return to the home screen from any app. The home screen shows all 9 mini apps with descriptions and quick stats. Accessibility: Toggle high contrast mode if needed for better visibility. The app is mobile-optimized for smartphones and tablets. Tips: 1) Use the chatbot if you're unsure about any feature, 2) All forms require accurate information for proper processing, 3) Check donation progress regularly to see campaign updates, 4) Save important reference numbers from donation receipts, 5) Contact PTA officers directly for urgent matters, 6) Participate in community discussions for better school collaboration."
    }
  ],
  lastUpdated: new Date().toISOString()
};

export const searchKnowledge = (query: string) => {
  const lowerQuery = query.toLowerCase();
  
  // Search both knowledge bases
  const ptaSections = depedOmnibusKnowledge.sections.filter(section => 
    section.title.toLowerCase().includes(lowerQuery) || 
    section.content.toLowerCase().includes(lowerQuery)
  );
  
  const appSections = miniAppsKnowledge.sections.filter(section =>
    section.title.toLowerCase().includes(lowerQuery) || 
    section.content.toLowerCase().includes(lowerQuery)
  );
  
  const allRelevantSections = [...ptaSections, ...appSections];
  
  // If no specific matches, return overview sections
  if (allRelevantSections.length === 0) {
    return [
      miniAppsKnowledge.sections[0], // Getting Started
      ...depedOmnibusKnowledge.sections.slice(0, 2) // First 2 PTA sections
    ];
  }
  
  return allRelevantSections;
};

// Helper function to get all knowledge for comprehensive searching
export const getAllKnowledge = () => {
  return {
    pta: depedOmnibusKnowledge,
    apps: miniAppsKnowledge
  };
};